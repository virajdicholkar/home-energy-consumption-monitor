<div class="rounded border p-2 page-header">
    <div class="h5 mb-0">
        <button class="btn p-0" routerLink='/devices/'><i class="fa fa-arrow-left"></i></button>
        Register new Device
    </div>
</div>
<div class="row rounded mt-2 pl-3">
    <form class="col-8" [formGroup]='deviceForm'>
        <div class="alert alert-success" role="alert" *ngIf="successToken">
            Your device registered with token: {{successToken}}
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="error">
            {{ error }}
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Name:</label>
            <div class="col-sm-10">
                <input type="text" formControlName='name' class="form-control" placeholder="Tube light">
            </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-sm-2 col-form-label">Description:</label>
            <div class="col-sm-10">
                <textarea row='2' formControlName='description' class="form-control"
                    placeholder="This is hall light."></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Power required (In watts):</label>
            <div class="col-sm-10">
                <input type="number" formControlName='powerInWatts' class="form-control" placeholder="30">
            </div>
        </div>

        <div class="form-group row ">
            <button class="ml-3 btn btn-primary" [disabled]='!deviceForm.valid' (click)='register()'>{{ httpProcessing ? 'Registering...' : 'Register'}}</button>
            <button class="ml-2 btn btn-outline-secondary" routerLink='/devices'>Cancel</button>
        </div>
    </form>
</div>